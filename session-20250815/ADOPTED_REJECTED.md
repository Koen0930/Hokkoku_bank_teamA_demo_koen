# 採用/却下（および理由）

最終更新: 2025-08-15

## 採用したもの
- Real LLM（OpenAI API 直接呼び出し）
  - 理由: 実環境同等の応答品質と多様性を確認するため。ユーザー要望もReal優先。
- Cloudflare Tunnel による公開
  - 理由: 即時性が高く、アカウント不要。OPENAI_API_KEYはVMの環境変数にのみ保持できる。
- /api/config によるモード可視化（"mock"/"real"）
  - 理由: 検証・デバッグ時の透明性を確保。UI上でも状態表示。
- Q&A / 適用案（Apply）のデュアルモード
  - 理由: 説明・回答と適用案生成の用途を明確化。ユーザー操作性向上。
- JSON Patch優先 + Full JSONフォールバック
  - 理由: 小さな変更はPatchで安全に適用、広範囲変更はFullで柔軟に対応。
- 検証→承認→適用の安全フロー
  - 理由: 直接適用を避け、差分確認とスキーマ検証を挟むことで安全性を担保。

## 却下/保留にしたもの
- Mock環境の別URL公開
  - 理由: 混乱回避。ユーザー要望によりRealのみで十分。
- Fly.io再デプロイ
  - 理由: 権限/認証の事情。短期検証はトンネルの方が迅速。
- 公開UIでのAPIキー入力フォーム
  - 理由: セキュリティ観点で不要/危険。キーはサーバ環境変数管理とする。
- 大規模フロント統合（Next.js/React全面実装）
  - 理由: 本タスクの主眼は機能検証。最小UIで要件達成に留める。
